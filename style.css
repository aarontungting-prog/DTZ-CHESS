body { margin: 0; background: #111; overflow: hidden; font-family: sans-serif; color: white; touch-action: none; }
canvas { display: block; position: absolute; top: 0; left: 0; z-index: 0; }
#ui { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 100; }
.hud, .hud-container, #mobile-menu-btn { pointer-events: auto; }

/* 登入 */
#auth-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; display: flex; justify-content: center; align-items: center; pointer-events: auto; }
.auth-box { background: #1a1a20; border: 1px solid #00e5ff; padding: 30px; border-radius: 12px; width: 300px; text-align: center; }
.auth-input { width: 100%; padding: 10px; margin: 5px 0; background: #000; border: 1px solid #333; color: white; box-sizing: border-box; }
button { width: 100%; padding: 10px; margin-top: 5px; cursor: pointer; border-radius: 4px; border: none; font-weight: bold; }
.auth-btn, .game-btn { background: #00e5ff; color: #000; }
.guest-btn { background: transparent; color: #aaa; border: 1px solid #444; }

/* HUD */
.hud-container { position: absolute; top: 20px; left: 20px; width: 250px; display: flex; flex-direction: column; gap: 10px; }
.hud-box { background: rgba(0,0,0,0.8); padding: 15px; border-radius: 8px; border: 1px solid #444; }
.user-card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.name-text { font-weight: bold; font-size: 16px; }
.custom-btn { width: 100%; background: #222; color: #ccc; border: 1px solid #444; }
.mode-btn { width: 48%; background: #333; color: #888; }
.mode-btn.active { background: #00e5ff; color: black; }
.logout-btn { background: transparent; color: #666; margin-top: 10px; width: 100%; }

/* 狀態 */
#status-panel { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.6); padding: 10px 20px; border-radius: 30px; text-align: right; }
h1 { margin: 0; font-size: 1.2rem; color: #00e5ff; }

/* 側邊 */
.side-panel { position: fixed; top: 0; left: 0; bottom: 0; width: 300px; background: #111; transform: translateX(-105%); transition: 0.3s; z-index: 1200; padding: 20px; }
.side-panel.active { transform: translateX(0); }
.skin-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 10px; }
.skin-item { background: #222; border: 1px solid #333; padding: 10px; text-align: center; cursor: pointer; }
.skin-item.selected { border-color: #00e5ff; background: rgba(0,229,255,0.1); }

#menu-backdrop { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 900; }
#menu-backdrop.active { display: block; }
#loading { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; justify-content: center; align-items: center; color: #00e5ff; z-index: 1500; font-weight: bold; }
#footer-watermark { position: absolute; bottom: 10px; width: 100%; text-align: center; color: rgba(255,255,255,0.3); font-size: 12px; }
.mini-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }
#mobile-menu-btn { display: none; position: absolute; bottom: 20px; left: 20px; background: #000; border: 2px solid #00e5ff; border-radius: 50%; width: 50px; height: 50px; justify-content: center; align-items: center; z-index: 3000; color: #00e5ff; font-size: 20px; }
#nickname-container { display: none; }

@media (max-width: 600px) {
    #mobile-menu-btn { display: flex; }
    .hud-container { width: 100%; padding: 20px; bottom: 0; top: auto; left: 0; background: #111; border-top: 2px solid #00e5ff; transform: translateY(110%); transition: 0.3s; z-index: 2500; box-sizing: border-box; }
    .hud-container.mobile-visible { transform: translateY(0); }
    #status-panel { top: 15px; left: 50%; transform: translateX(-50%); width: auto; white-space: nowrap; }
}
